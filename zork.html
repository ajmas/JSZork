<!DOCTYPE html>
<html>

<head>
    <title>Ematry</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles/w3.css">
    <link rel="stylesheet" href="styles/zork.css">
    <link rel="stylesheet" href="styles/global.css">

    <script type="importmap">
        {
          "imports": {
            "BrowserView": "/src/view/BrowserView.js"
          }
        }
    </script>

    <script type="module">
        import Zork from 'BrowserView';

        document.addEventListener('DOMContentLoaded', () => {
            const zork = new Zork(
                document.getElementById("inputTextArea"),
                document.getElementById("zorkMobileOutputArea"),
            );

            zork.restart();
            zork.loadState();

            document.getElementById('mobile-menu-button').addEventListener('click', () => {
                document.getElementById("mobile-menu").style.display = "block";
            });

            document.getElementById('mobile-menu-close-button').addEventListener('click', () => {
                document.getElementById("mobile-menu").style.display = "none";
            });

            document.getElementById('zorkMobileRestartButton').addEventListener('click', () => {
                zork.restart();
            });
        });
    </script>
</head>

<body class="w3-light-gray">

    <div class="w3-bar w3-blue-gray" style="position: fixed; top: 0; height: 8%;">
        <a href="index.html" class="w3-bar-item w3-button" style="text-decoration: none;"><h2>Home</h2></a>
        <button class="w3-bar-item w3-blue-gray w3-right w3-xxlarge" id="mobile-menu-button">â˜°</button>
    </div>

    <div class="w3-sidebar w3-mobile w3-blue-gray" id="mobile-menu">

        <div class="link"><button class="w3-button w3-bar-item w3-large w3-right w3-blue-gray" id="mobile-menu-close-button">&times;</button></div>
        <div class="link w3-xlarge w3-hover-gray"><a href="index.html" style="text-decoration: none;">Home</a></div>
        <div class="link w3-xlarge w3-hover-gray"><a href="zork.html" style="text-decoration: none;">Zork</a></div>
        <!-- <div class="link w3-xlarge w3-hover-gray"><a href="maze.html" style="text-decoration: none;">Maze</a></div> -->
        <!-- <div class="link w3-xlarge w3-hover-gray"><a href="blog.html" style="text-decoration: none;">Blog</a></div> -->
    </div>

    <div class="w3-container w3-sidebar w3-gray" style="width: 15%; height: 92%; bottom: 0;" id="web-menu">
        <div class="link"><a href="zork.html">Zork: A Re-Creation</a></div>
        <!-- <div class="link"><a href="maze.html">Maze Generator</a></div> -->
        <!-- <div class="link"><a href="blog.html">Blog</a></div> -->
    </div>

    <div class="w3-container w3-leftbar w3-topbar w3-border-black" id="gameArena">
        <div id="zorkGameContainer">
        <div id="zorkWebTitle"><h2>Zork I: The Great Underground Empire</h2></div>
        <div id="zorkMobileTitle"><h2>Zork I Remake</h2></div>

        <div id="gameHeaderArea" class="gameTextArea">
            <div id="gameLocationArea"></div>
            <div id="gameStatsArea">
                <div id="gameTurnsArea">Turns: 0</div>
                <div id="gameScoreArea">Score: 0</div>
            </div>
        </div>
        <div id="descriptionArea" class="gameTextArea"></div>
        <div id="divider"></div>
        <div id="previousInputArea" class="gameTextArea"></div>
        <div id="gameArea" class="gameTextArea"></div>
        <div id="zorkMobileOutputArea" class="gameTextArea"></div>
        <input type="text" id="inputTextArea" name="playerInput" tabindex="0" spellcheck="false" autofocus="true">
        <input class="w3-button w3-blue w3-round w3-ripple w3-hover-white" id="zorkMobileRestartButton" value="Restart">
        </div>

        <div id="zorkInfoContainer">
            <h3>About Zork: A Complete Re-Creation</h3>
        <p style="display: block;">This classic game, the first of a franchise developed by Infocom, was very popular in the 1980's. It is a
           text-based interactive fiction game, in which the player navigates the game
           world by entering typed commands.
           <br><br>
           The goal of this project is to reconstruct the game
           from scratch, with all new source code written in JavaScript.
           <br><br>
           For the intrepid adventurer who seeks the great Underground, countless wonders await: trolls, thieves,
           treasures galore, quantities of water, piles of plastic, unknown viscous materials, and small chunks of vitreous slag.
           Your journey begins here!</p>

        <input class="w3-button w3-blue w3-round w3-ripple w3-hover-white" id="restartButton" value="Restart Game">
        </div>

    </div>


</body>
</html>